# üì∞ SpainNews - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–æ—Ç –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –ò—Å–ø–∞–Ω–∏–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –æ–± –ò—Å–ø–∞–Ω–∏–∏ –≤ Telegram.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_CHANNEL_ID=@–≤–∞—à_–∫–∞–Ω–∞–ª
ADMIN_CHAT_ID=–≤–∞—à_chat_id
GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_gemini
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ADMIN_CHAT_ID:**
1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @userinfobot –≤ Telegram
2. –û–Ω –ø—Ä–∏—à–ª—ë—Ç –≤–∞–º –≤–∞—à chat_id
3. –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env`

### 3. –ó–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
python main.py
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- ü§ñ –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ**
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–∏ (–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å, –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏ —Ç.–¥.)
- ‚è∞ –ö–∞–∂–¥—ã–µ 3 —á–∞—Å–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**:
  1. –°–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ RSS (–Ω–µ —Å—Ç–∞—Ä–µ–µ 3 —á–∞—Å–æ–≤)
  2. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ Gemini AI
  3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞–º –≤ Telegram –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏

**–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∑–∞–ø—É—Å–∫ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å):**
–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ `main.py` —Å—Ç—Ä–æ–∫—É 103:
```python
await run_news_pipeline()
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É! –û–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, —á—Ç–æ–±—ã:
- –†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤–∞—à–∏ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

#### –í–∞—Ä–∏–∞–Ω—Ç –ë: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

```bash
# –®–∞–≥ 1: –°–æ–±—Ä–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
python bot/fetch_news.py

# –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ AI
python bot/process_ai.py

# –®–∞–≥ 3: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –±–æ—Ç
python bot/bot_posting.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
SpainNews/
‚îú‚îÄ‚îÄ main.py                 # üéØ –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –µ–≥–æ
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ fetch_news.py      # –°–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS
‚îÇ   ‚îú‚îÄ‚îÄ process_ai.py      # –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Gemini AI
‚îÇ   ‚îî‚îÄ‚îÄ bot_posting.py     # Telegram –±–æ—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ news_raw.json          # –°—ã—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ RSS
‚îú‚îÄ‚îÄ result_news.json       # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ .env                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–∏)
```

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö–∞–∂–¥—ã–µ 3 —á–∞—Å–∞  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  1. fetch_news.py       ‚îÇ
‚îÇ  –°–æ–±–∏—Ä–∞–µ—Ç RSS –Ω–æ–≤–æ—Å—Ç–∏   ‚îÇ
‚îÇ  ‚Üí news_raw.json        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2. process_ai.py       ‚îÇ
‚îÇ  AI –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç  ‚îÇ
‚îÇ  ‚Üí result_news.json     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  3. bot_posting.py      ‚îÇ
‚îÇ  –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram  ‚îÇ
‚îÇ  –í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –∫–æ–≥–¥–∞     ‚îÇ
‚îÇ  –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤–∞–º –≤ –ª–∏—á–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –î–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏:

- **–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å** - –ø—É–±–ª–∏–∫—É–µ—Ç –≤ –∫–∞–Ω–∞–ª –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- **–ß–µ—Ä–µ–∑ 30 –º–∏–Ω / 1—á / 2—á / 3—á** - –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é
- **‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å** - –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç—å

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: **–∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞**

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤ `main.py`:

```python
# –ö–∞–∂–¥—ã–µ 3 —á–∞—Å–∞ (—Ç–µ–∫—É—â–µ–µ)
scheduler.add_job(..., trigger=CronTrigger(hour="*/3"))

# –ö–∞–∂–¥—ã–π —á–∞—Å
scheduler.add_job(..., trigger=CronTrigger(hour="*"))

# –í –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 9:00, 15:00, 21:00)
scheduler.add_job(..., trigger=CronTrigger(hour="9,15,21", minute="0"))

# –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
scheduler.add_job(..., trigger=CronTrigger(hour="*/6"))
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ADMIN_CHAT_ID` –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –±–æ—Ç—É —Ö–æ—Ç—è –±—ã —Ä–∞–∑ `/start`

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ AI
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GEMINI_API_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –∫–≤–æ—Ç–∞ –Ω–∞ API

### –ù–æ–≤–æ—Å—Ç–∏ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

## üìù –õ–æ–≥–∏

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏:
- üì• –°–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π
- ü§ñ –û–±—Ä–∞–±–æ—Ç–∫–∞ AI
- üì¨ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
- ‚è∞ –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫

## üö¶ –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ (production)

### macOS/Linux:
```bash
nohup python main.py > news.log 2>&1 &
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ screen:
```bash
screen -S spainnews
python main.py
# –ù–∞–∂–º–∏—Ç–µ Ctrl+A –∑–∞—Ç–µ–º D –¥–ª—è –≤—ã—Ö–æ–¥–∞
# screen -r spainnews –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
```

### Systemd service (Linux):
–°–æ–∑–¥–∞–π—Ç–µ `/etc/systemd/system/spainnews.service`
```ini
[Unit]
Description=Spain News Bot
After=network.target

[Service]
Type=simple
User=–≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
WorkingDirectory=/path/to/SpainNews
ExecStart=/path/to/venv/bin/python main.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞—Ç–µ–º:
```bash
sudo systemctl enable spainnews
sudo systemctl start spainnews
sudo systemctl status spainnews
```

---

üéâ **–ì–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python main.py` –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏!**
